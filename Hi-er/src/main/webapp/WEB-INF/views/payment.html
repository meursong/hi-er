<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{common/layout}">
<head>
<style>
@import
	url('https://fonts.googleapis.com/css2?family=Poppins&display=swap');

* {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
	font-family: 'Poppins', sans-serif
}

p {
	margin: 0
}

.containerPay {
	max-width: 120vh;
	margin: 30px auto;
	background-color: #e8eaf6;
	padding: 35px
}

.box-right {
	padding: 30px 25px;
	background-color: white;
	border-radius: 15px
}

.box-left {
	padding: 20px 20px;
	background-color: white;
	border-radius: 15px
}

.textmuted {
	color: #7a7a7a
}

.bg-green {
	background-color: #d4f8f2;
	color: #06e67a;
	padding: 3px 0;
	display: inline;
	border-radius: 25px;
	font-size: 11px
}

.p-blue {
	font-size: 14px;
	color: #1976d2
}

.fas.fa-circle {
	font-size: 12px
}

.p-org {
	font-size: 14px;
	color: #fbc02d
}

.h7 {
	font-size: 15px
}

.h8 {
	font-size: 12px
}

.h9 {
	font-size: 10px
}

.bg-blue {
	background-color: #dfe9fc9c;
	border-radius: 5px
}

.form-control {
	box-shadow: none !important
}

.card input::placeholder {
	font-size: 14px
}

::placeholder {
	font-size: 14px
}

input.card {
	position: relative
}

.far.fa-credit-card {
	position: absolute;
	top: 10px;
	padding: 0 15px
}

.fas, .far {
	cursor: pointer
}

.cursor {
	cursor: pointer
}

.btn.btn-primary {
	box-shadow: none;
	height: 40px;
	padding: 11px
}

.bg.btn.btn-primary {
	background-color: transparent;
	border: none;
	color: #1976d2
}

.bg.btn.btn-primary:hover {
	color: #539ee9
}

@media ( max-width :320px) {
	.h8 {
		font-size: 11px
	}
	.h7 {
		font-size: 13px
	}
	::placeholder {
		font-size: 10px
	}
}
</style>
</head>
<section layout:fragment="contents">
	<div class="containerPay">
		<div class="row m-0">
			<div class="col-md-7 col-12">
				<div class="row" style="margin-right: 15px">
					<div class="col-12 px-0 mb-4">
						<div class="box-right">
							<div class="d-flex pb-2">
								<p class="fw-bold h2">
									[[${product.title}]]/<span class="textmuted">[[${product.paymentPkg}]]</span>
								</p>
							</div>
							<div class="bg-blue p-2">
								<P class="h8 textmuted">제품 한줄 소개
								<p class="p-blue bg btn btn-primary h8">제품 상세 보기(뒤로가기 구현)</p>
								<p>[[${product.seller_id}]]</p>
								</P>
							</div>
						</div>
					</div>
					<div>
						<h2>IAMPORT 결제 데모</h2>
						<li>
							<button id="iamportPayment" type="button">결제테스트</button>
						</li>
					</div>
					<div class="col-12 mb-4">
						<div class="row box-right">
							<div class="col-md-8 ps-0 ">
								<p class="ps-3 textmuted fw-bold h6 mb-0">결제 금액</p>
								<p class="h1 fw-bold d-flex">
									<span
										class=" fas fa-dollar-sign textmuted pe-1 h6 align-text-top mt-1"></span>[[${product.b_price}]]
									원(₩)
									<!-- <span class="textmuted">.58</span> -->
								</p>
								<p class="ms-3 px-2 bg-green">부가세(VAT)포함</p>
							</div>
						</div>
					</div>
					<div class="col-12 px-0">
						<div class="box-right">
							<div class="d-flex mb-2">
								<p class="fw-bold">구매자 정보</p>
							</div>
							<div class="d-flex mb-2">
								<p class="h7">#AL2545</p>
								<p class="ms-auto bg btn btn-primary p-blue h8">
									COPY PAYMENT LINK
								</p>
							</div>
							<div class="row">
								<div class="col-12 mb-2">
									<p class="textmuted h8">성함 <p>
									<input class="form-control" type="text"
										placeholder="홍길동">
								</div>
								<div class="col-12 mb-2">
									<p class="textmuted h8">이메일 <p>
									<input class="form-control" type="text"
										placeholder="@를 포함한 메일주소를 입력해 주세요">
								</div>
								<div class="col-12 mb-2">
									<p class="textmuted h8">전화번호 <p>
									<input class="form-control" type="text"
										placeholder="010-1111-2222">
								</div>
								<!-- <div class="col-6">
									<p class="textmuted h8">전화번호</p>
									<input class="form-control" type="text"
										placeholder="Oct 25, 2020">
								</div>
								<div class="col-6">
									<p class="textmuted h8">Due on</p>
									<input class="form-control" type="text"
										placeholder="Oct 25, 2020">
								</div> -->
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-md-5 col-12 ps-md-5 p-0 ">
				<div class="box-left">
					<p class="textmuted h8">Invoice</p>
					<p class="fw-bold h7">Alex Parkinson</p>
					<p class="textmuted h8">3897 Hickroy St, salt Lake city</p>
					<p class="textmuted h8 mb-2">Utah, United States 84104</p>
					<div class="h8">
						<div class="row m-0 border mb-3">
							<div class="col-6 h8 pe-0 ps-2">
								<p class="textmuted py-2">Items</p>
								<span class="d-block py-2 border-bottom">Legal Advising</span> <span
									class="d-block py-2">Expert Consulting</span>
							</div>
							<div class="col-2 text-center p-0">
								<p class="textmuted p-2">Qty</p>
								<span class="d-block p-2 border-bottom">2</span> <span
									class="d-block p-2">1</span>
							</div>
							<div class="col-2 p-0 text-center h8 border-end">
								<p class="textmuted p-2">Price</p>
								<span class="d-block border-bottom py-2"><span
									class="fas fa-dollar-sign"></span>500</span> <span
									class="d-block py-2 "><span class="fas fa-dollar-sign"></span>400</span>
							</div>
							<div class="col-2 p-0 text-center">
								<p class="textmuted p-2">Total</p>
								<span class="d-block py-2 border-bottom"><span
									class="fas fa-dollar-sign"></span>1000</span> <span
									class="d-block py-2"><span class="fas fa-dollar-sign"></span>400</span>
							</div>
						</div>
						<div class="d-flex h7 mb-2">
							<p class="">Total Amount</p>
							<p class="ms-auto">
								<span class="fas fa-dollar-sign"></span>1400
							</p>
						</div>
						<div class="h8 mb-5">
							<p class="textmuted">Lorem ipsum dolor sit amet elit.
								Adipisci ea harum sed quaerat tenetur</p>
						</div>
					</div>
					<div class="">
						<p class="h7 fw-bold mb-1">Pay this Invoice</p>
						<p class="textmuted h8 mb-2">Make payment for this invoice by
							filling in the details</p>
						<div class="form">
							<div class="row">
								<div class="col-12">
									<div class="card border-0">
										<input class="form-control ps-5" type="text"
											placeholder="Card number"> <span
											class="far fa-credit-card"></span>
									</div>
								</div>
								<div class="col-6">
									<input class="form-control my-3" type="text"
										placeholder="MM/YY">
								</div>
								<div class="col-6">
									<input class="form-control my-3" type="text" placeholder="cvv">
								</div>
								<p class="p-blue h8 fw-bold mb-3">MORE PAYMENT METHODS</p>
							</div>
							<div class="btn btn-primary d-block h8">
								PAY <span class="fas fa-dollar-sign ms-2"></span>1400<span
									class="ms-3 fas fa-arrow-right"></span>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
<!-- JQuery -->
<script type="text/javascript"
	src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<!-- iamport.payment.js -->
<script type="text/javascript"
	src="https://cdn.iamport.kr/js/iamport.payment-1.2.0.js"></script>
<script>
//문서가 준비되면 제일 먼저 실행
$(document).ready(function(){ 
	$("#iamportPayment").click(function(){ 
    	payment(); //버튼 클릭하면 호출 
    }); 
})

//버튼 클릭하면 실행
function payment(data) { //param
    IMP.init('imp57611856');//아임포트 관리자 콘솔에서 확인한 '가맹점 식별코드' 입력
    IMP.request_pay({// param
        pg: "kakaopay.TC0ONETIME", //pg사명 or pg사명.CID (잘못 입력할 경우, 기본 PG사가 띄워짐)
        pay_method: "card", //지불 방법
        order_id: "iamport_test_id", //주문번호 (아임포트를 사용하는 가맹점에서 중복되지 않은 임의의 문자열을 입력)
        name: "디자인", //결제창에 노출될 상품명
        amount: 13700, //금액
        buyer_email : "testiamport@naver.com", 
        buyer_name : "홍길동",
        buyer_tel : "01012341234"
    }, function (res) { // callback
        if (res.success) {  // 결제 성공 시: 결제 승인 또는 가상계좌 발급에 성공한 경우
            alert("완료 -&gt; imp_uid : "+rsp.imp_uid+" / merchant_uid(orderKey) : " +res.merchant_uid);
        } else {
            alert("실패 : 코드("+res.error_code+") / 메세지(" + res.error_msg + ")");
        }
    });
}
</script>
</html>