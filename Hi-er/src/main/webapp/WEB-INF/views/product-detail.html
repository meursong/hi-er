<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{common/layout}">
<head>
<style></style>
</head>

<section layout:fragment="contents">
	<div class="third-menu border-top">
		<div class="container">
			<div class="row d-flex align-items-center justify-content-between">
				<div class="col-lg-9 left">
					<ul>
						<li class="nav-overview selected"><a href="#title">메인</a></li>
						<li class="nav-aboutSeller"><a href="#aboutSeller">프리랜서
								정보</a></li>
						<li class="nav-description"><a href="#description">서비스 설명</a>
						</li>
						<li class="nav-packagesTable"><a href="#packagesTable">가격
								정보</a></li>
						<li class="nav-faq"><a href="#faq">거래 약관</a></li>
						<li class="nav-reviews"><a href="#reviews">리뷰</a></li>
					</ul>
				</div>
				<div class="col-lg-3 right">
					<ul class="d-flex align-items-center justify-content-end">
						<li>
							<button type="button" id="like">
								<span class="heart"> <svg
										xmlns="http://www.w3.org/2000/svg" width="16" height="16"
										fill="red" class="bi bi-heart" viewBox="0 0 16 16">
                      <path class="like"
											th:attr="style=${likeInfo.isLike} == true ? 'display : none' : ''"
											d="m8
                    2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641
                    2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368
                    5.365-4.542
                    6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28
                    8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824
                    1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1
                    .176-.17C12.72-3.042 23.333 4.867 8 15z" />
                      <path class="like"
											th:attr="style=${!likeInfo.isLike} == true ? 'display : none' : ''"
											fill-rule="evenodd"
											d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z" />
                    </svg>
								</span> <span id="likeNum">[[${likeInfo.likeNum}]]</span>
							</button>
						</li>
						<li class="ml-2">
							<button type="button" id="reportBtn" data-bs-toggle="modal"
								data-bs-target="#reportModal">
								<i class="fa fa-share-alt" aria-hidden="true"></i> 신고
							</button>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	<div class="main-page py-5">
		<div class="container">
			<div class="row">
				<div class="col-lg-8 left">
					<h2 id="title" th:text="${product.title}">글 제목</h2>
					<div id="overview"
						class="seller-overview d-flex align-items-center">
						<div class="user-profile-image d-flex">
							<span class="total-rating" th:if="${product.category}=='design'">디자인</span>
							<span class="total-rating" th:if="${product.category}=='video'">영상편집</span>
							<span class="total-rating" th:if="${product.category}=='it'">IT</span>
						</div>
						
					</div>
					<!--  이미지 -->
					<div class="slider mt-4">
						<div id="aniimated-thumbnials"
							class="slider-for slick-slider-single">
							<a th:if="${product.category=='design'}"
								th:href="@{/upload/} + ${product.filename1}"> <img
								class="img-fluid" th:src="@{/upload/} + ${product.filename1}"
								th:onerror="@{this.onerror=null; this.th:src='/images/logo.png';}" />
							</a> <a th:if="${product.category=='video'}"
								th:href="@{/upload/} + ${product.filename1}"> <video
									class="img-fluid" height="400px" width="650px"
									th:src="@{/upload/} + ${product.filename1}"
									th:onerror="@{this.onerror=null; this.th:src='/images/logo.png';}"
									controls muted>
								</video>
							</a> <a th:href="@{/upload/} + ${product.filename2}"> <img
								class="img-fluid" th:src="@{/upload/} + ${product.filename2}"
								th:onerror="@{this.onerror=null; this.src='/images/logo.png';}" />
							</a> <a th:href="@{/upload/} + ${product.filename3}"> <img
								class="img-fluid" th:src="@{/upload/} + ${product.filename3}"
								th:onerror="@{this.onerror=null; this.src='/images/logo.png';}" />
							</a> <a th:href="@{/upload/} + ${product.filename4}"> <img
								class="img-fluid" th:src="@{/upload/} + ${product.filename4}"
								th:onerror="@{this.onerror=null; this.src='/images/logo.png';}" />
							</a> <a th:href="@{/upload/} + ${product.filename5}"> <img
								class="img-fluid" th:src="@{/upload/} + ${product.filename5}"
								th:onerror="@{this.onerror=null; this.src='/images/logo.png';}" />
							</a> <a th:href="@{/upload/} + ${product.filename6}"> <img
								class="img-fluid" th:src="@{/upload/} + ${product.filename6}"
								th:onerror="@{this.onerror=null; this.src='/images/logo.png';}" />
							</a> <a th:href="@{/upload/} + ${product.filename7}"> <img
								class="img-fluid" th:src="@{/upload/} + ${product.filename7}"
								th:onerror="@{this.onerror=null; this.src='/images/logo.png';}" />
							</a> <a th:href="@{/upload/} + ${product.filename8}"> <img
								class="img-fluid" th:src="@{/upload/} + ${product.filename8}"
								th:onerror="@{this.onerror=null; this.src='/images/logo.png';}" />
							</a>
						</div>
						<div class="slider-nav slick-slider-single">
							<div class="item-slick">
								<img class="img-fluid"
									th:src="@{/upload/} + ${product.filename1}"
									th:onerror="@{this.onerror=null; this.src='/images/logo.png';}" />
							</div>
							<div class="item-slick">
								<img class="img-fluid"
									th:src="@{/upload/} + ${product.filename2}"
									th:onerror="@{this.onerror=null; this.src='/images/logo.png';}" />
							</div>
							<div class="item-slick">
								<img class="img-fluid"
									th:src="@{/upload/} + ${product.filename3}"
									th:onerror="@{this.onerror=null; this.src='/images/logo.png';}" />
							</div>
							<div class="item-slick">
								<img class="img-fluid"
									th:src="@{/upload/} + ${product.filename4}"
									th:onerror="@{this.onerror=null; this.src='/images/logo.png';}" />
							</div>
							<div class="item-slick">
								<img class="img-fluid"
									th:src="@{/upload/} + ${product.filename5}"
									th:onerror="@{this.onerror=null; this.src='/images/logo.png';}" />
							</div>
							<div class="item-slick">
								<img class="img-fluid"
									th:src="@{/upload/} + ${product.filename6}"
									th:onerror="@{this.onerror=null; this.src='/images/logo.png';}" />
							</div>
							<div class="item-slick">
								<img class="img-fluid"
									th:src="@{/upload/} + ${product.filename7}"
									th:onerror="@{this.onerror=null; this.src='/images/logo.png';}" />
							</div>
							<div class="item-slick">
								<img class="img-fluid"
									th:src="@{/upload/} + ${product.filename8}"
									th:onerror="@{this.onerror=null; this.src='/images/logo.png';}" />
							</div>
						</div>
					</div>
					<h3 id="aboutSeller">프리랜서 정보</h3>
					<div class="profile-card">
						<div class="user-profile-image d-flex">
							<label class="profile-pict" for="profile_image"> <img
								th:src="@{/images/user/s2.png}"
								class="profile-pict-img img-fluid"
								alt="프리랜서 사진-(클릭시 판매자정보 페이지로 이동)" />
							</label>
							<div class="right">
								<div class="profile-name">
									<span class="user-status"> <a
										th:href="@{/freelancerInfo/{id}(id=${product.seller_id})}"
										class="seller-link">[[${sellerInfo.nickname}]]</a>
									</span>
									<div class="seller-level">프리랜서 회원</div>
								</div>
								<div class="user-info">
									<span class="user-info-rating d-flex align-items-center">
										<div class="star-rating-s15-wrapper">
											<!-- 별점 (어떻게 나타낼건지 고민)-->
											<span class="star-rating-s15 rate-10"> <i
												class="fa fa-star" aria-hidden="true"></i> <i
												class="fa fa-star" aria-hidden="true"></i> <i
												class="fa fa-star" aria-hidden="true"></i> <i
												class="fa fa-star" aria-hidden="true"></i> <i
												class="fa fa-star" aria-hidden="true"></i>
											</span>
										</div> <span class="total-rating-out-five"></span> <span
										class="total-rating">(리뷰)([[${sellerInfo.avg_star_point}]])</span>
									</span> <a href="#">쪽지보내기(클릭시 쪽지 모달창 출력)</a>
								</div>
							</div>
						</div>
						<div id="description" class="stats-desc">
							<ul class="user-stats">
								<li>From<strong th:utext="${sellerInfo.address}">${user.location}</strong></li>
								<li><strong></strong></li>
								<li>평균응답시간<strong>1 hour(쪽지 답장 정보로 표시 - 가능? - 불가능)</strong>
								</li>
							</ul>
							<article class="seller-desc">
								<div class="inner" th:utext="${product.content}"></div>
							</article>
						</div>
						<div id="packagesTable" class="table-package">

							<!-- 가격 정보 -->

							<h3>가격 정보</h3>
							<form action="/post/payment" method="post">
								<!-- 결제페이지로 넘길 정보들  -->
								<input type="hidden" name="title" th:value="${product.title}">
								<input type="hidden" name="product_id"
									th:value="${product.product_id}"> <input type="hidden"
									name="filename1" th:value="${product.filename1}"> <input
									type="hidden" name="filename2" th:value="${product.filename2}">
								<input type="hidden" name="category"
									th:value="${product.category}"> <input type="hidden"
									name="seller_id" th:value="${product.seller_id}"> <input
									type="hidden" name="nickname" th:value="${sellerInfo.nickname}">
								<input type="hidden" name="name" th:value="${sellerInfo.name}">
								<input type="hidden" name="email" th:value="${sellerInfo.email}">
								<input type="hidden" name="b_price"
									th:value="${priceInfo.b_price}"> <input type="hidden"
									name="s_price" th:value="${priceInfo.s_price}"> <input
									type="hidden" name="p_price" th:value="${priceInfo.p_price}">
								<input type="hidden" name="b_pkg_description"
									th:value="${priceInfo.b_pkg_description}"> <input
									type="hidden" name="s_pkg_description"
									th:value="${priceInfo.s_pkg_description}"> <input
									type="hidden" name="p_pkg_description"
									th:value="${priceInfo.p_pkg_description}"> <input
									type="hidden" name="b_original_image"
									th:value="${priceInfo.b_original_image}"> <input
									type="hidden" name="s_original_image"
									th:value="${priceInfo.s_original_image}"> <input
									type="hidden" name="p_original_image"
									th:value="${priceInfo.p_original_image}"> <input
									type="hidden" name="b_commercial"
									th:value="${priceInfo.b_commercial}"> <input
									type="hidden" name="s_commercial"
									th:value="${priceInfo.s_commercial}"> <input
									type="hidden" name="p_commercial"
									th:value="${priceInfo.p_commercial}"> <input
									type="hidden" name="b_sns_Kit"
									th:value="${priceInfo.b_sns_Kit}"> <input type="hidden"
									name="s_sns_Kit" th:value="${priceInfo.s_sns_Kit}"> <input
									type="hidden" name="p_sns_Kit"
									th:value="${priceInfo.p_sns_Kit}"> <input type="hidden"
									name="b_draft" th:value="${priceInfo.b_draft}"> <input
									type="hidden" name="s_draft" th:value="${priceInfo.s_draft}">
								<input type="hidden" name="p_draft"
									th:value="${priceInfo.p_draft}"> <input type="hidden"
									name="b_revision" th:value="${priceInfo.b_revision}"> <input
									type="hidden" name="s_revision"
									th:value="${priceInfo.s_revision}"> <input
									type="hidden" name="p_revision"
									th:value="${priceInfo.p_revision}"> <input
									type="hidden" name="b_default_delivery"
									th:value="${priceInfo.b_default_delivery}"> <input
									type="hidden" name="s_default_delivery"
									th:value="${priceInfo.s_default_delivery}"> <input
									type="hidden" name="p_default_delivery"
									th:value="${priceInfo.p_default_delivery}"> <input
									type="hidden" name="b_minimum_delivery"
									th:value="${priceInfo.b_minimum_delivery}"> <input
									type="hidden" name="s_minimum_delivery"
									th:value="${priceInfo.s_minimum_delivery}"> <input
									type="hidden" name="p_minimum_delivery"
									th:value="${priceInfo.p_minimum_delivery}"> <input
									type="hidden" name="b_additional_price"
									th:value="${priceInfo.b_additional_price}"> <input
									type="hidden" name="s_additional_price"
									th:value="${priceInfo.s_additional_price}"> <input
									type="hidden" name="p_additional_price"
									th:value="${priceInfo.p_additional_price}">
								<table>
									<colgroup>
										<col />
										<col />
										<col />
										<col />
									</colgroup>
									<tbody>
										<tr class="package-type">
											<th>패키지</th>
											<td>
												<p class="price"
													th:text="${#numbers.formatInteger(priceInfo.b_price, 0, 'COMMA')}+원"></p>
												<b class="type">Basic</b><b class="title">패키지 설명</b>
											</td>
											<td>
												<p class="price"
													th:text="${#numbers.formatInteger(priceInfo.s_price, 0, 'COMMA')}+원"></p>
												<b class="type">Standard</b><b class="title">패키지 설명</b>
											</td>
											<td>
												<p class="price"
													th:text="${#numbers.formatInteger(priceInfo.p_price, 0, 'COMMA')}+원"></p>
												<b class="type">Premium</b><b class="title">패키지 설명</b>
											</td>
										</tr>
										<tr class="description">
											<th></th>
											<td th:text="${priceInfo.b_pkg_description}"></td>
											<td th:text="${priceInfo.s_pkg_description}"></td>
											<td th:text="${priceInfo.p_pkg_description}"></td>
										</tr>
										<tr>
											<th>
												<div class="fit-popover fit-popover-top fit-tooltip"
													data-position="top">
													<span class="fit-popover-content"
														th:if="${product.category}=='design'">원본 이미지 제공</span> <span
														class="fit-popover-content"
														th:if="${product.category}=='video'">자막삽입</span> <span
														class="fit-popover-content"
														th:if="${product.category}=='it'">소스코드 제공</span>
												</div>
											</th>
											<td
												th:attr="class=${priceInfo.b_original_image == 'true' ? 'boolean-pricing-factor included' : 'boolean-pricing-factor'}"></td>
											<td
												th:attr="class=${priceInfo.s_original_image == 'true' ? 'boolean-pricing-factor included' : 'boolean-pricing-factor'}"></td>
											<td
												th:attr="class=${priceInfo.p_original_image == 'true' ? 'boolean-pricing-factor included' : 'boolean-pricing-factor'}"></td>
										</tr>
										<tr>
											<th>
												<div class="fit-popover fit-popover-top fit-tooltip"
													data-position="top">
													<span class="fit-popover-content"
														th:if="${product.category}=='design'">상업적 이용 가능</span> <span
														class="fit-popover-content"
														th:if="${product.category}=='video'">상업적 이용 가능</span> <span
														class="fit-popover-content"
														th:if="${product.category}=='it'">콘텐츠 업로드</span>
												</div>
											</th>
											<td
												th:attr="class=${priceInfo.b_commercial == 'true' ? 'boolean-pricing-factor included' : 'boolean-pricing-factor'}">
												<!-- <input
                            type="hidden"
                            th:value="${priceInfo.b_commercial}"
                            class="commercial_using"
                            name="b_commercial"
                          /> -->
											</td>
											<td
												th:attr="class=${priceInfo.s_commercial == 'true' ? 'boolean-pricing-factor included' : 'boolean-pricing-factor'}"></td>
											<td
												th:attr="class=${priceInfo.p_commercial == 'true' ? 'boolean-pricing-factor included' : 'boolean-pricing-factor'}"></td>
										</tr>
										<tr>
											<th>
												<div class="fit-popover fit-popover-top fit-tooltip"
													data-position="top">
													<span class="fit-popover-content"
														th:if="${product.category}=='design'">SNS 키트 제공</span> <span
														class="fit-popover-content"
														th:if="${product.category}=='video'">썸네일 제공</span> <span
														class="fit-popover-content"
														th:if="${product.category}=='it'">반응형 웹</span>
												</div>
											</th>
											<td
												th:attr="class=${priceInfo.b_sns_Kit == 'true' ? 'boolean-pricing-factor included' : 'boolean-pricing-factor'}"></td>
											<td
												th:attr="class=${priceInfo.s_sns_Kit == 'true' ? 'boolean-pricing-factor included' : 'boolean-pricing-factor'}"></td>
											<td
												th:attr="class=${priceInfo.p_sns_Kit == 'true' ? 'boolean-pricing-factor included' : 'boolean-pricing-factor'}"></td>
										</tr>
										<tr>
											<th>
												<div class="fit-popover fit-popover-top fit-tooltip"
													data-position="top">
													<span class="fit-popover-content"
														th:if="${product.category}=='design'">시안 개수</span> <span
														class="fit-popover-content"
														th:if="${product.category}=='video'">러닝타임(초)</span> <span
														class="fit-popover-content"
														th:if="${product.category}=='it'">페이지 수</span>
												</div>
											</th>
											<td th:text="${priceInfo.b_draft}"></td>
											<td th:text="${priceInfo.s_draft}"></td>
											<td th:text="${priceInfo.p_draft}"></td>
										</tr>
										<tr>
											<th>
												<div class="fit-popover fit-popover-top fit-tooltip"
													data-position="top">
													<span class="fit-popover-content">수정 횟수</span>
												</div>
											</th>
											<td th:text="${priceInfo.b_revision}"></td>
											<td th:text="${priceInfo.s_revision}"></td>
											<td th:text="${priceInfo.p_revision}"></td>
										</tr>
										<tr class="delivery-time">
											<th>작업일</th>
											<td>
												<div class="fake-radio-wrapper">
													<label class="fake-radio"> <input type="radio"
														name="b_delivery" th:value="${priceInfo.b_price}" checked />
														<span class="radio-img"></span><span>[[${priceInfo.b_default_delivery}]]
															일</span>
													</label> <label class="fake-radio"> <input type="radio"
														name="b_delivery"
														th:value="${priceInfo.b_price+priceInfo.b_additional_price}" />
														<span class="radio-img"></span> <span>[[${priceInfo.b_minimum_delivery}]]일</span>
														<p class="faster-price">
															(+[[${#numbers.formatInteger(priceInfo.b_additional_price,
															0, 'COMMA')}]] 원)</p>
													</label>
												</div>
											</td>
											<td>
												<div class="fake-radio-wrapper">
													<label class="fake-radio"> <input type="radio"
														name="s_delivery" th:value="${priceInfo.s_price}" checked />
														<span class="radio-img"></span> <span>[[${priceInfo.s_default_delivery}]]
															일</span>
													</label> <label class="fake-radio"> <input type="radio"
														name="s_delivery"
														th:value="${priceInfo.s_price+priceInfo.s_additional_price}" />
														<span class="radio-img"></span> <span>[[${priceInfo.s_minimum_delivery}]]
															일</span>
														<p class="faster-price">
															(+[[${#numbers.formatInteger(priceInfo.s_additional_price,
															0, 'COMMA')}]] 원)</p>
													</label>
												</div>
											</td>
											<td>
												<div class="fake-radio-wrapper">
													<label class="fake-radio"> <input type="radio"
														name="p_delivery" th:value="${priceInfo.p_price}" checked />
														<span class="radio-img"></span> <span>[[${priceInfo.p_default_delivery}]]
															일</span>
													</label> <label class="fake-radio"> <input type="radio"
														name="p_delivery"
														th:value="${priceInfo.p_price+priceInfo.p_additional_price}" />
														<span class="radio-img"></span> <span>[[${priceInfo.p_minimum_delivery}]]
															일</span>
														<p class="faster-price">
															(+[[${#numbers.formatInteger(priceInfo.p_additional_price,
															0, 'COMMA')}]] 원)</p>
													</label>
												</div>
											</td>
										</tr>
										<tr class="select-package">
											<th>Total</th>
											<td>
												<p class="price-label" id="b-price"
													th:text="${#numbers.formatInteger(priceInfo.b_price, 0, 'COMMA')}+원">
												</p>
												<button id="test" name="paymentPkg" value="Basic"
													type="submit">선택하기</button>
											</td>
											<td>
												<p class="price-label" id="s-price"
													th:text="${#numbers.formatInteger(priceInfo.s_price, 0, 'COMMA')}+원">
												</p>
												<button name="paymentPkg" value="Standard" type="submit">
													선택하기</button>
											</td>
											<td>
												<p class="price-label" id="p-price"
													th:text="${#numbers.formatInteger(priceInfo.p_price, 0, 'COMMA')}+원">
												</p>
												<button name="paymentPkg" value="Premium" type="submit">선택하기</button>
											</td>
										</tr>
									</tbody>
								</table>
							</form>
						</div>
						<!-- 거래 약관 -->
						<div id="faq" class="faq">
							<h3>거래 약관</h3>
							<div class="accordion" id="accordionExample">
								<div class="card">
									<div class="card-header" id="headingOne">
										<h2 class="mb-0">
											<button class="btn btn-link" type="button"
												data-toggle="collapse" data-target="#collapseOne"
												aria-expanded="true" aria-controls="collapseOne">
												수정 및 재진행</button>
										</h2>
									</div>
									<div id="collapseOne" class="collapse show"
										aria-labelledby="headingOne" data-parent="#accordionExample">
										<div class="card-body" th:text="${product.revisionPolicy}">
											[수정 안내] · 수정 횟수는 주문 사양별 조건을 참조하시기 바랍니다. · 각 상품 별 수정 제공 횟수 초과
											시 별도의 비용이 청구될 수 있습니다. · 기본 수정 범위 : 폰트, 컬러, 배치, 간격 등 선택된 1개의
											시안의 컨셉 범주 내에서 수정 가능합니다. · 원하시는 폰트 요청 시, 해당 폰트/저작권을 보유하고 계셔야
											수정 가능합니다. · 시안 확정 후에는 수정이 종료됩니다. (확정 후 수정 요청 시 별도의 비용이 청구될 수
											있습니다.) · *작업 전 요청사항* 외에 새로운 컨셉 또는 방향을 제시하시는 경우 수정이 아닌 재작업으로
											간주되어 별도의 비용이 청구될 수 있습니다. [인쇄 안내] 철자, 오타, 폰트 사이즈 등 꼼꼼하게 확인하시어
											최종 컨펌해 주셔야 합니다. 합판 인쇄 (명함, 전단) 특성상 인쇄(CMYK) 컬러는 모니터(RGB)와 차이가
											있습니다. 인쇄 시마다 컬러와 재단 오차가 상이할 수 있습니다.</div>
									</div>
								</div>
								<div class="card">
									<div class="card-header" id="headingTwo">
										<h2 class="mb-0">
											<button class="btn btn-link collapsed" type="button"
												data-toggle="collapse" data-target="#collapseTwo"
												aria-expanded="false" aria-controls="collapseTwo">
												취소 및 환불</button>
										</h2>
									</div>
									<div id="collapseTwo" class="collapse"
										aria-labelledby="headingTwo" data-parent="#accordionExample">
										<div class="card-body" th:text="${product.refundPolicy}">
											01. 전문가와 의뢰인 간의 상호 협의 후 청약철회가 가능합니다. 02. 전문가의 귀책사유로 디자인작업을
											시작하지 않았거나 혹은 이에 준하는 보편적인 관점에서 심각하게 잘못 이행한 경우 결제 금액 전체 환불이
											가능합니다. 03. 전문가가 작업 기간 동안 지정된 서비스를 제공하지 못할 것이 확실한 경우 지급받은 서비스
											비용을 일할 계산하여 작업물 개수와 작업 기간 일수만큼 공제하고 잔여 금액을 환불합니다. 04. 서비스 받은
											항목을 공제하여 환불하며, 공제 비용은 정가 처리됩니다. 가. 소비자 피해 보상 규정에 의거하여 작업물 원본의
											멸실 및 작업 기간 미이행 및 이에 상응하는 전문가 책임으로 인한 피해 발생 시, 전액 환불 나. 시안 작업
											진행된 상품 차감 환불 ⓐ. '디자인'에 대한 금액이 서비스 내 별도 기재가 되지 않았거나, 디자인 상품
											패키지 내 수정 횟수가 1회(1회 포함) 이상인 서비스 상품의 시안 or 샘플이 제공된 경우 → 구매금액의
											10% 환불(디자인 비용이 별도 기재되어 있는 경우, 해당금액 차감 후 환불)</div>
									</div>
								</div>
								<div class="card">
									<div class="card-header" id="headingThree">
										<h2 class="mb-0">
											<button class="btn btn-link collapsed" type="button"
												data-toggle="collapse" data-target="#collapseThree"
												aria-expanded="false" aria-controls="collapseThree">
												기타 안내 사항</button>
										</h2>
									</div>
									<div id="collapseThree" class="collapse"
										aria-labelledby="headingThree" data-parent="#accordionExample">
										<div class="card-body" th:text="${product.otherInformation}">
											이런 분들은 의뢰를 다시 한번 생각해주세요. 1.명령조의 언행, 타인에대한 배려가 없으신 분 2.구매자의
											입장을 이용하여 조율이 아닌 일방적인 요구를 하시는 분 3.이용사항을 충분히 숙지하지 않으신 분</div>
									</div>
								</div>
							</div>
						</div>
						<!-- 리뷰 -->
						<div id="reviews" class="review-section">
							<div
								class="d-flex align-items-center justify-content-between mb-4">
								<h4 class="m-0">[[${maxReviewCnt}]] 개의 평가</h4>
							</div>
							<div class="row">
								<div class="col-md-6">
									<table class="stars-counters">
										<tbody>
											<tr th:each="reviewCount: ${reviewCounts}" class="">
												<td><span>
														<button
															class="fit-button fit-button-color-blue fit-button-fill-ghost fit-button-size-medium stars-filter"
															th:text="${reviewCount.star_point} + 점">
															</button>
												</span></td>
												<td class="progress-bar-container">
													<div
														class="fit-progressbar fit-progressbar-bar star-progress-bar">
														<div class="fit-progressbar-background">
															<span class="progress-fill" style="width: ${reviewCount.count}"></span>
														</div>
													</div>
												</td>
												<td class="star-num" th:text="${reviewCount.count} + 개"></td>
											</tr>
											<!-- <tr class="">
												<td><span>
														<button
															class="fit-button fit-button-color-blue fit-button-fill-ghost fit-button-size-medium stars-filter">
															4점</button>
												</span></td>
												<td class="progress-bar-container">
													<div
														class="fit-progressbar fit-progressbar-bar star-progress-bar">
														<div class="fit-progressbar-background">
															<span class="progress-fill" style="width: 2.2973%"></span>
														</div>
													</div>
												</td>
												<td class="star-num">(2)</td>
											</tr>
											<tr class="">
												<td><span>
														<button
															class="fit-button fit-button-color-blue fit-button-fill-ghost fit-button-size-medium stars-filter">
															3점</button>
												</span></td>
												<td class="progress-bar-container">
													<div
														class="fit-progressbar fit-progressbar-bar star-progress-bar">
														<div class="fit-progressbar-background">
															<span class="progress-fill" style="width: 0"></span>
														</div>
													</div>
												</td>
												<td class="star-num">(0)</td>
											</tr>
											<tr class="">
												<td><span>
														<button
															class="fit-button fit-button-color-blue fit-button-fill-ghost fit-button-size-medium stars-filter">
															2점</button>
												</span></td>
												<td class="progress-bar-container">
													<div
														class="fit-progressbar fit-progressbar-bar star-progress-bar">
														<div class="fit-progressbar-background">
															<span class="progress-fill" style="width: 0"></span>
														</div>
													</div>
												</td>
												<td class="star-num">(0)</td>
											</tr>
											<tr class="">
												<td><span>
														<button
															class="fit-button fit-button-color-blue fit-button-fill-ghost fit-button-size-medium stars-filter">
															1점</button>
												</span></td>
												<td class="progress-bar-container">
													<div
														class="fit-progressbar fit-progressbar-bar star-progress-bar">
														<div class="fit-progressbar-background">
															<span class="progress-fill" style="width: 0"></span>
														</div>
													</div>
												</td>
												<td class="star-num">(0)</td>
											</tr> -->
										</tbody>
									</table>
								</div>
							</div>
						</div>
						<!-- 리뷰 -->
						<div id="review">
							<div th:replace="fragments/review :: review"></div>

							<div class="footer-pagination text-center">
								<nav th:replace="fragments/pagination :: pagination"></nav>
							</div>
						</div>
						<!-- 태그(보류) -->
						<!-- <div class="tags">
                <h3>Related tags</h3>
                <ul class="d-flex">
                  <li><a href="#">Mobile Ui</a></li>
                  <li><a href="#">UI/UX</a></li>
                  <li><a href="#">Prototype</a></li>
                  <li><a href="#">Wireframes</a></li>
                </ul>
              </div> -->
					</div>
				</div>
				<!-- 가격정보(거래신청) 우측 사이드 내브바 -->
				<div class="col-lg-4 right">
					<div class="sticky">
						<ul class="nav nav-tabs">
							<li><a class="active" data-toggle="tab" href="#basic">Basic</a>
							</li>
							<li><a data-toggle="tab" href="#standard">Standard</a></li>
							<li><a data-toggle="tab" href="#Premium">Premium</a></li>
						</ul>
						<div class="tab-content">
							<div id="basic" class="tab-pane fade show active">
								<div class="header">
									<h3>
										<b class="title">베이직</b><span class="price"
											th:text="${#numbers.formatInteger(priceInfo.b_price, 0, 'COMMA')}+원"></span>
									</h3>
									<p>[[${priceInfo.b_pkg_description}]]</p>
								</div>
								<article>
									<div class="d-flex">
										<b class="delivery"><i class="fa fa-clock-o"
											aria-hidden="true"></i> [[${priceInfo.b_default_delivery}]]
											작업일</b> <b class="delivery ml-3"><i class="fa fa-refresh"
											aria-hidden="true"></i> 수정 [[${priceInfo.b_revision}]] 회</b>
									</div>
									<ul class="features">
										<li  th:if="${product.category}=='design'"
											th:attr="class=${priceInfo.b_original_image == 'true' ? 'feature included' : 'feature'}">
											<i class="fa fa-check" aria-hidden="true">
											</i>원본 이미지 제공
										</li>
										<li
											th:attr="class=${priceInfo.b_commercial == 'true' ? 'feature included' : 'feature'}">
											<i class="fa fa-check" aria-hidden="true"></i>상업적 이용 가능
										</li>
										<li
											th:attr="class=${priceInfo.b_sns_Kit == 'true' ? 'feature included' : 'feature'}">
											<i class="fa fa-check" aria-hidden="true"></i>SNS 키트 제공
										</li>
										<li class="feature included"><i class="fa fa-check"
											aria-hidden="true"></i>시안 개수 : [[${priceInfo.b_draft}]]</li>
									</ul>
								</article>
								<button>계속하기 (결제페이지로 이동)</button>
							</div>
							<div id="standard" class="tab-pane fade">
								<div class="header">
									<h3>
										<b class="title">스탠다드</b><span class="price"
											th:text="${#numbers.formatInteger(priceInfo.s_price, 0, 'COMMA')}+원"></span>
									</h3>
									<p>[[${priceInfo.s_pkg_description}]]</p>
								</div>
								<article>
									<div class="d-flex">
										<b class="delivery"><i class="fa fa-clock-o"
											aria-hidden="true"></i> [[${priceInfo.s_default_delivery}]]
											작업일</b><b class="delivery ml-3"><i class="fa fa-refresh"
											aria-hidden="true"></i> 수정 [[${priceInfo.s_revision}]] 회</b>
									</div>
									<ul class="features">
										<li
											th:attr="class=${priceInfo.s_original_image == 'true' ? 'feature included' : 'feature'}">
											<i class="fa fa-check" aria-hidden="true"></i>원본 이미지 제공
										</li>
										<li
											th:attr="class=${priceInfo.s_commercial == 'true' ? 'feature included' : 'feature'}">
											<i class="fa fa-check" aria-hidden="true"></i>상업적 이용 가능
										</li>
										<li
											th:attr="class=${priceInfo.s_sns_Kit == 'true' ? 'feature included' : 'feature'}">
											<i class="fa fa-check" aria-hidden="true"></i>SNS 키트 제공
										</li>
										<li class="feature included"><i class="fa fa-check"
											aria-hidden="true"></i>시안 개수 : [[${priceInfo.s_draft}]]</li>
									</ul>
								</article>
								<button>계속하기 (결제페이지로 이동)</button>
							</div>
							<div id="Premium" class="tab-pane fade">
								<div class="header">
									<h3>
										<b class="title">프리미엄</b><span class="price"
											th:text="${#numbers.formatInteger(priceInfo.p_price, 0, 'COMMA')}+원"></span>
									</h3>
									<p>[[${priceInfo.p_pkg_description}]]</p>
								</div>
								<article>
									<div class="d-flex">
										<b class="delivery"><i class="fa fa-clock-o"
											aria-hidden="true"></i> [[${priceInfo.p_default_delivery}]]
											작업일</b><b class="delivery ml-3"><i class="fa fa-refresh"
											aria-hidden="true"></i> 수정 [[${priceInfo.p_revision}]] 회</b>
									</div>
									<ul class="features">
										<li
											th:attr="class=${priceInfo.p_original_image == 'true' ? 'feature included' : 'feature'}">
											<i class="fa fa-check" aria-hidden="true"></i>원본 이미지 제공
										</li>
										<li
											th:attr="class=${priceInfo.p_commercial == 'true' ? 'feature included' : 'feature'}">
											<i class="fa fa-check" aria-hidden="true"></i>상업적 이용 가능
										</li>
										<li
											th:attr="class=${priceInfo.p_sns_Kit == 'true' ? 'feature included' : 'feature'}">
											<i class="fa fa-check" aria-hidden="true"></i>SNS 키트 제공
										</li>
										<li class="feature included"><i class="fa fa-check"
											aria-hidden="true"></i>시안 개수 : [[${priceInfo.p_draft}]]</li>
									</ul>
								</article>
								<button>계속하기 (결제페이지로 이동)</button>
							</div>
						</div>
						<div class="contact-seller-wrapper">
							<a class="fit-button" href="#">판매자에게 쪽지 보내기(쪽지 모달창 팝업)</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- 신고모달창 -->
	<div class="modal fade" id="reportModal" tabindex="-1"
		aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="exampleModalLabel">신고하기</h4>
					<h5 style="opacity: 0.7">신고 사유를 선택해 주세요</h5>
					<!-- <button type="button" class="btn-close" data-bs-dismiss="modal"
						aria-label="Close"></button> -->
				</div>
				<div class="modal-body">
					<div class="report-modal-body">
						<div class="form-check">
							<input class="form-check-input" type="radio" name="reportRadios"
								id="reportRadio1" value="카테고리와 맞지 않는
								게시물" checked /> <label
								class="form-check-label" for="reportRadio1"> 카테고리와 맞지 않는
								게시물 </label>
						</div>
						<div class="form-check">
							<input class="form-check-input" type="radio" name="reportRadios"
								id="reportRadio2" value="타 사이트 홍보성
								게시물" /> <label
								class="form-check-label" for="reportRadio2"> 타 사이트 홍보성
								게시물 </label>
						</div>
						<div class="form-check">
							<input class="form-check-input" type="radio" name="reportRadios"
								id="reportRadio3" value="음란성/청소년 유해
								게시물" /> <label
								class="form-check-label" for="reportRadio3"> 음란성/청소년 유해
								게시물 </label>
						</div>
						<div class="form-check">
							<input class="form-check-input" type="radio" name="reportRadios"
								id="reportRadio4" value="저작권 침해 게시물" /> <label
								class="form-check-label" for="reportRadio4"> 저작권 침해 게시물
							</label>
						</div>
						<div class="form-check">
							<input class="form-check-input" type="radio" name="reportRadios"
								id="reportRadio5" value="비방/비하/욕설
								게시물" /> <label
								class="form-check-label" for="reportRadio5"> 비방/비하/욕설
								게시물 </label>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" id="reportCancel" class="btn btn-secondary"
						data-bs-dismiss="modal">취소</button>
					<button type="button" id="report" class="btn btn-primary">
						신고하기</button>
				</div>
			</div>
		</div>
	</div>
</section>
</html>

<script>
	function AddComma(num) {
		var regexp = /\B(?=(\d{3})+(?!\d))/g;
		return num.toString().replace(regexp, ',');
	}

	var nData ;

  $("[name='b_delivery']").change(function (e) {
    let result;
    e.preventDefault();
    let radioArr = document.getElementsByName("b_delivery");
    for (let radio of radioArr) {
      if (radio.checked) {
        result = radio.value;
        nData = AddComma(result);
      }
    }
    $("#b-price").text(nData + "원");
  });

  $("[name='s_delivery']").change(function (e) {
    let result;
    e.preventDefault();
    let radioArr = document.getElementsByName("s_delivery");
    for (let radio of radioArr) {
      if (radio.checked) {
        result = radio.value;
        nData = AddComma(result);
      }
    }
    $("#s-price").text(nData + "원");
  });

  $("[name='p_delivery']").change(function (e) {
    let result;
    e.preventDefault();
    let radioArr = document.getElementsByName("p_delivery");
    for (let radio of radioArr) {
      if (radio.checked) {
        result = radio.value;
        nData = AddComma(result);
      }
    }
    $("#p-price").text(nData + "원");
  });

  $("#reportBtn").click(function (e) {
    e.preventDefault();
    $("#reportModal").modal("show");
  });
  $("#reportCancel").click(function (e) {
    e.preventDefault();
    $("#reportModal").modal("hide");
  });
  $("#report").click(function (e) {
    e.preventDefault();
    let reason = $("input[name='reportRadios']:checked").val();
    let pid = `[[${product.product_id}]]`;
    let reported_userid = 10;
    $.ajax({
      type: "POST",
      url: "/post/report",
      data: { reason: reason, pid: pid, reported_userid: reported_userid },
      success: function (res) {
        alert(res);
      },
      error: function (XMLHttpRequest, textStatus, errorThrown) {
        alert("ajax 통신 실패.");
      },
    });
    $("#reportModal").modal("hide");
  });

  $("#like").click(function () {
    let pid = `[[${product.product_id}]]`;
    $.ajax({
      type: "POST",
      url: "/post/like",
      data: { pid: pid },
      success: function (likeInfo) {
        if (likeInfo.isLike) {
          $("#like .heart").html(
            "<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='red' class='bi bi-heart' viewBox='0 0 16 16' > <path class='like' fill-rule='evenodd' d='M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z'/></svg>"
          );
          let num = $("#like").text();
          console.log(num);
          $("#likeNum").text(Number(num) + 1);
        } else {
          $("#like .heart").html(
            "<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='red' class='bi bi-heart' viewBox='0 0 16 16' > <path class='like' d='m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z'/></svg>"
          );
          let num = $("#likeNum").text();
          console.log(num);
          $("#likeNum").text(num - 1);
        }

        //res를 Integer로 받아서 그 결과값으로 찜하기버튼의 하트 색을 변경하는 로직 필요 [1:찜한상]
      },
      error: function (XMLHttpRequest, textStatus, errorThrown) {
        alert("ajax 통신 실패.");
      },
    });
  });
  
</script>
<script>
function movePage(uri, queryString) {
    history.pushState({}, null, queryString);
   $("#review").load(uri + queryString + " #review");
    // location.href = uri + queryString;
}
window.onpopstate = function(event) {
    $("#review").load(location.href + " #review");
};
</script>

